<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>PyFitParquet</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "PyFitParquet";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> PyFitParquet</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">PyFitParquet</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#build-and-install-from-source">Build and Install from Source</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#execution-quickstart">Execution Quickstart</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cli-usage">CLI Usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#licenses-and-attributions">Licenses and Attributions</a>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">PyFitParquet</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>PyFitParquet</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="pyfitparquet">PyFitParquet</h2>
<p>The <code>pyfitparquet</code> package provides support for Garmin <a href="https://developer.garmin.com/fit/overview/">FIT</a> and <a href="https://en.wikipedia.org/wiki/Training_Center_XML">TCX</a> file ETL into <a href="https://parquet.apache.org/">Apache Parquet</a> columnar format. It is designed to be used within a conda environment. Two configuration files are used to fine-tune ETL behavior: <a href="https://github.com/databike-io/pyfitparquet/blob/main/pyfitparquet/parquet_config.yml">parquet_config.yml</a> and <a href="https://github.com/databike-io/pyfitparquet/blob/main/pyfitparquet/mapping_config.yml">mapping_config.yml</a>. In general, these files control, respectively, the column and row structure of parquet output files, and the mapping of TCX tag names to FIT/Parquet field_names. Please see verbose comments within the configuration files themselves for greater understanding of their use.  </p>
<p>Though the configuration files can be modified directly in-place under the <code>$CONDA_PREFIX</code> install tree, any re-installation of <code>pyfitparquet</code> will revert configuration to the default. To maintain a persistent configuration across installations, set the <code>PYFIT_CONFIG_DIR</code> environment variable to a directory path of your choice and place local versions of the configuration files there. These files will not be overwritten or removed on uninstall. (Note: if <code>PYFIT_CONFIG_DIR</code> is set, but <code>pyfitparquet</code> cannot find the configuration files there, it will copy in default versions of the files from the current conda <code>pyfitparquet</code> installation.)</p>
<hr />
<h3 id="build-and-install-from-source">Build and Install from Source</h3>
<p>The suggested method to build from source is to use <code>pip</code>, which will build libraries implicitly and install them into a conda environment. In addition to installation of the python <code>pyfitparquet</code> module, two CLI executables are installed: <strong>fitdecoder</strong>, which prints the contents of a FIT file to std::cout, and <strong>fittransformer</strong>, which performs a FIT-to-Parquet file ETL. (Note: build requires C++ compiler). Thus, to build and install:</p>
<pre><code>$ git clone https://github.com/databike-io/pyfitparquet.git
$ cd pyfitparquet
$ conda env create -f environment.yml
$ conda activate pyfitenv
$ pip install .
</code></pre>
<p>Please execute the provided <a href="https://github.com/databike-io/pyfitparquet/blob/main/uninstall.sh">uninstall.sh</a> to remove the <code>pyfitparquet</code> package (<code>pip uninstall pyfitparquet</code> alone is <strong>not</strong> sufficient to remove all installed components). </p>
<hr />
<h3 id="execution-quickstart">Execution Quickstart</h3>
<p>From python in an activated conda environment with <code>pyfitparquet</code> installed, the following will ETL all FIT/TCX files located in <code>data_dir</code> and output parquet files to a default <code>f'{data_dir}/parquet'</code> directory:</p>
<pre><code class="language-python">&gt;&gt;&gt; from pyfitparquet import transformer
&gt;&gt;&gt; pyfitparq = transformer.PyFitParquet()
&gt;&gt;&gt; pyfitparq.data_to_parquet(data_dir='./tests/fixtures')
</code></pre>
<p>To ETL individual FIT/TCX files:</p>
<pre><code class="language-python">&gt;&gt;&gt; from pyfitparquet import transformer
&gt;&gt;&gt; pyfitparq = transformer.PyFitParquet()
&gt;&gt;&gt; pyfitparq.source_to_parquet('./tests/fixtures/Who_Dares_Sufferfest.fit', parquet_dir='.')
&gt;&gt;&gt; pyfitparq.source_to_parquet('./tests/fixtures/45_min_Power_Zone_Ride.tcx', parquet_dir='.')
</code></pre>
<p>For a more complete example that includes configuration changes and reading/display of parquet files see: <a href="https://github.com/databike-io/pyfitparquet/blob/main/example.py">example.py</a></p>
<hr />
<h3 id="cli-usage">CLI Usage</h3>
<p>To use CLI executables to ETL a single FIT-file (<strong>not</strong> TCX) to Parquet-file:</p>
<pre><code>$ fittransformer &lt;FIT_FILE_URI&gt; &lt;PARQUET_FILE_URI&gt; 
</code></pre>
<p>To ETL a single TCX or FIT file to Parquet-file using the Python CLI interface:</p>
<pre><code>$ python pyfitparquet/transformer.py &lt;SOURCE_FILE_URI&gt; [-P PARQUET_DIR] 
</code></pre>
<p>To decode a single FIT-file to std::cout (default functionality provided by Garmin CPP FitSDK):</p>
<pre><code>$ fitdecoder &lt;FIT_FILE_URI&gt; 
</code></pre>
<hr />
<h3 id="licenses-and-attributions">Licenses and Attributions</h3>
<ul>
<li>Two licenses are provided with this project: <ul>
<li>All files (CPP source and TCX schemas) statically included in this repo under directory <a href="https://github.com/databike-io/pyfitparquet/tree/main/pyfitparquet/FitCppSDK_21.47.00">FitCppSDK_21.47.00</a> are the property of <a href="https://developer.garmin.com/fit/download/">Garmin, LTD</a>, statically included solely for FitSdk lib build and version control stability, and licensed under <a href="https://github.com/databike-io/pyfitparquet/tree/main/pyfitparquet/FitCppSDK_21.47.00/GARMIN_FIT_SDK_LICENSE">GARMIN_FIT_SDK_LICENSE</a>.  </li>
<li>All other source code in this repo is authored by AJ Donich (or other project contributors) and, to the extent legally applicable and not the purview of upstream licenses, provided as open source under <a href="https://github.com/databike-io/pyfitparquet/blob/main/LICENSE">Apache License 2.0</a>.</li>
</ul>
</li>
<li>Five TCX <a href="https://github.com/databike-io/pyfitparquet/tree/main/tests/fixtures">test data files</a> were gratefully borrowed from <a href="https://github.com/cjoakim/ggps">Chris Joakim's ggps</a> project.  </li>
<li>The <code>pyfitparquet</code> package has several upstream open source dependencies (Apache Arrow, Pybind11, Boost, to name a few). We are grateful for these open APIs and acknowledge many different licenses are employed by these projects. Please see <a href="https://github.com/databike-io/pyfitparquet/blob/main/environment.yml">environment.yml</a> for PyFitParquet's direct dependencies and corresponding respective repos for specific licenses.</li>
</ul>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2021-02-17 21:47:19.853366+00:00
-->
